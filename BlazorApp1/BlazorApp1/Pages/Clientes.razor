@page "/clients";
@attribute [Authorize]

@using Microsoft.AspNetCore.Components.Rendering
@using BlazorApp1.Models
@using BlazorApp1.Controllers

@layout MainLayout

<!--div class="glass-effect sup-navbar">
    <!--span @onclick="handleCarteiraOnClick">Carteira</span-->
    <!--span @onclick="handleAnaliseOnClick">Análise</span-->
    <!--span @onclick="handleClassesEtáriasOnClick">Classes Etárias</span-->
    <!--span @onclick="handleContaCorrenteOnClick">Conta Corrente</span-->
    <!--span @onclick="handleIndicadoresOnClick">Indicadores</span-->
    <!--span @onclick="handleApolicesPorDataOnClick">Apólices por data</span-->
    
<!--div-->

<div class="upper-bar"><button @onclick="handleAddClientEvent">Add Client</button></div>

<div>
    @if (clients == null)
    {
        <p><em>Loading...</em></p>
    }
    else
    {
        <table class="table">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Temp. (C)</th>
                    <th>Temp. (F)</th>
                    <th>Summary</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var client in clients)
                {
                    
                }
            </tbody>
        </table>
    }
</div>
    


@code {

    [Inject]
    public NavigationManager navigationManager { get; set; }

    MarkupString markup;

    private List<Client>? clients;

    protected override void OnInitialized()
    {

    }

    private void handleCarteiraOnClick()
    {
        markup = new MarkupString("<h1> Carteira Seguradora</h1> ");
    }

    private void handleAnaliseOnClick()
    {
        markup = new MarkupString("<h1>Análise Global Clientes</h1>");
    }

    private void handleClassesEtáriasOnClick()
    {
        markup = new MarkupString("<h1>Classes Etárias Clientes</h1>");
    }

    private void handleContaCorrenteOnClick()
    {
        markup = new MarkupString("<h1>Conta Corrente Clientes</h1>");
    }

    private void handleIndicadoresOnClick()
    {
        markup = new MarkupString("<h1>Clientes Indicadores</h1>");
    }

    private void handleApolicesPorDataOnClick()
    {
        markup = new MarkupString("<h1>Apólices Por Data</h1>");
    }

    private void handleAddClientEvent()
    {
        navigationManager.NavigateTo("/clients/create");
    }

}
